/**
 * WinBox.js v0.2.82 (Bundle)
 * Author and Copyright: Thomas Wilkerling
 * Licence: Apache-2.0
 * Hosted by Nextapps GmbH
 * https://github.com/nextapps-de/winbox
 */
(function(){'use strict';var e,aa=document.createElement("style");aa.innerHTML="@keyframes wb-fade-in{0%{opacity:0}to{opacity:.85}}.winbox{position:fixed;left:0;top:0;background:#0050ff;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:width .3s,height .3s,left .3s,top .3s;transition-timing-function:cubic-bezier(.3,1,.3,1);contain:layout size;text-align:left;touch-action:none}.wb-header,.winbox iframe{position:absolute;width:100%}.wb-header{left:0;top:0;height:35px;line-height:35px;color:#fff;overflow:hidden;z-index:1}.wb-body{position:absolute;top:35px;left:0;right:0;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;will-change:contents;background:#fff;margin-top:0!important;contain:strict;z-index:0}.wb-drag{height:100%;padding-left:10px;cursor:move}.wb-title{font-family:Arial,sans-serif;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wb-icon{display:none;width:20px;height:100%;margin:-1px 8px 0-3px;float:left;background-repeat:no-repeat;background-size:100%;background-position:center}.wb-n{position:absolute;top:-5px;left:0;right:0;height:10px;cursor:n-resize;z-index:2}.wb-e{top:0;right:-5px;bottom:0;width:10px;cursor:w-resize}.wb-e,.wb-s,.wb-w{position:absolute;z-index:2}.wb-s{bottom:-5px;left:0;right:0;height:10px;cursor:n-resize}.wb-w{top:0;left:-5px;bottom:0;width:10px;cursor:w-resize}.wb-nw{top:-5px;left:-5px;cursor:nw-resize}.wb-ne,.wb-nw,.wb-se,.wb-sw{position:absolute;width:15px;height:15px;z-index:2}.wb-ne{top:-5px;right:-5px;cursor:ne-resize}.wb-se,.wb-sw{bottom:-5px}.wb-sw{left:-5px;cursor:ne-resize}.wb-se{right:-5px;cursor:nw-resize}.wb-control{float:right;height:100%;max-width:100%;text-align:center}.wb-control *{display:inline-block;width:30px;height:100%;max-width:100%;background-position:center;background-repeat:no-repeat;cursor:pointer}.wb-min{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);background-size:14px auto;background-position:center calc(50% + 6px)}.wb-max{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);background-size:17px auto}.wb-close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);background-size:15px auto;background-position:5px center}.wb-full{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);background-size:16px auto}.winbox.max .wb-body~div,.winbox.min .wb-body~div,.winbox.modal .wb-body~div,.winbox.modal .wb-drag,body.wb-lock iframe{pointer-events:none}.winbox.max .wb-drag{cursor:default}.winbox.min .wb-full,.winbox.min .wb-min{display:none}.winbox.min .wb-drag{cursor:default}.winbox.hide,.winbox.min .wb-body>*{display:none}.winbox.max{box-shadow:none}.winbox.max .wb-body{margin:0!important}.winbox iframe{height:100%;border:0}body.wb-lock .winbox{will-change:left,top,width,height;transition:none}.winbox.modal:before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:inherit;border-radius:inherit}.winbox.modal:after{content:'';position:absolute;top:-50vh;left:-50vw;right:-50vw;bottom:-50vh;background:#0d1117;animation:wb-fade-in .2s ease-out forwards;z-index:-1}.no-header .wb-header,.winbox.modal .wb-full,.winbox.modal .wb-max,.winbox.modal .wb-min{display:none}.no-animation{transition:none}.no-shadow{box-shadow:none}.no-header .wb-body{top:0}.no-close .wb-close,.no-full .wb-full,.no-max .wb-max,.no-min .wb-min,.no-resize .wb-body~div,.wb-body .wb-hide,.wb-show{display:none}.no-move:not(.min) .wb-title{pointer-events:none}.wb-body .wb-show{display:revert}";
var f=document.getElementsByTagName("head")[0];f.firstChild?f.insertBefore(aa,f.firstChild):f.appendChild(aa);var k=null;function l(a,b,c,g){a&&a.addEventListener(b,c,g||!1)}function m(a,b){var c=window,g=t;c&&c.removeEventListener(a,b,g||!1)}function u(a,b){a.stopPropagation();b&&a.preventDefault()}function z(a,b,c){c=""+c;a["_s_"+b]!==c&&(a.style.setProperty(b,c),a["_s_"+b]=c)};/*
 self.max &&*/
var A=[],D=[],ba={capture:!0,passive:!1},t={capture:!0,passive:!0},E,ca=0,I=10,J,O,da,T={},ha;
function U(a,b){if(!(this instanceof U))return new U(a);E||ia();if(a){if(b){var c=a;a=b}if("string"===typeof a)c=a;else{var g=a.id;var d=a.index;var n=a.root;var p=a.template;c=c||a.title;var v=a.icon;var K=a.mount;var P=a.html;var h=a.url;var q=a.width;var r=a.height;var w=a.minwidth;var B=a.minheight;var x=a.maxwidth;var y=a.maxheight;var ea=a.autosize;var C=a.overflow;var F=a.min;var G=a.max;var H=a.hidden;var fa=a.modal;var X=a.x||(fa?"center":0);var Y=a.y||(fa?"center":0);var L=a.top;var M=a.left;
var Q=a.bottom;var R=a.right;var ka=a.background;var N=a.border;var S=a.header;var Z=a["class"];var la=a.oncreate;var qa=a.onclose;var ra=a.onfocus;var sa=a.onblur;var ta=a.onmove;var ua=a.onresize;var va=a.onfullscreen;var wa=a.onmaximize;var xa=a.onminimize;var ya=a.onrestore;var za=a.onhide;var Aa=a.onshow;var Ba=a.onload}}k||(k=document.createElement("div"),k.innerHTML="<div class=wb-header><div class=wb-control><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-drag><div class=wb-icon></div><div class=wb-title></div></div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>");
this.g=(p||k).cloneNode(!0);this.g.id=this.id=g||"winbox-"+ ++ca;this.g.className="winbox"+(Z?" "+("string"===typeof Z?Z:Z.join(" ")):"")+(fa?" modal":"");this.g.winbox=this;this.window=this.g;this.body=this.g.getElementsByClassName("wb-body")[0];this.h=S||35;D.push(this);ka&&this.setBackground(ka);N?z(this.body,"margin",N+(isNaN(N)?"":"px")):N=0;S&&(b=this.g.getElementsByClassName("wb-header")[0],z(b,"height",S+"px"),z(b,"line-height",S+"px"),z(this.body,"top",S+"px"));c&&this.setTitle(c);v&&this.setIcon(v);
K?this.mount(K):P?this.body.innerHTML=P:h&&this.setUrl(h,Ba);L=L?V(L,T.height):0;Q=Q?V(Q,T.height):0;M=M?V(M,T.width):0;R=R?V(R,T.width):0;c=T.width-M-R;v=T.height-L-Q;x=x?V(x,c):c;y=y?V(y,v):v;w=w?V(w,x):150;B=B?V(B,y):this.h;ea?((n||E).appendChild(this.body),q=Math.max(Math.min(this.body.clientWidth+2*N+1,x),w),r=Math.max(Math.min(this.body.clientHeight+this.h+N+1,y),B),this.g.appendChild(this.body)):(q=q?V(q,x):Math.max(x/2,w)|0,r=r?V(r,y):Math.max(y/2,B)|0);X=X?V(T.left+X,c,q):T.left+M;Y=Y?V(T.top+
Y,v,r):T.top+L;this.x=X;this.y=Y;this.width=q;this.height=r;this.s=w;this.o=B;this.m=x;this.l=y;this.top=L;this.right=R;this.bottom=Q;this.left=M;this.index=d;this.j=C;this.focused=this.hidden=this.full=this.max=this.min=!1;this.onclose=qa;this.onfocus=ra;this.onblur=sa;this.onmove=ta;this.onresize=ua;this.onfullscreen=va;this.onmaximize=wa;this.onminimize=xa;this.onrestore=ya;this.onhide=za;this.onshow=Aa;H?this.hide():this.focus();if(d||0===d)this.index=d,z(this.g,"z-index",d),d>I&&(I=d);G?this.maximize():
F?this.minimize():this.resize().move();ja(this);(n||E).appendChild(this.g);la&&la.call(this,a)}U["new"]=function(a){return new U(a)};U.stack=function(){return D};function V(a,b,c){"string"===typeof a&&("center"===a?a=(b-c)/2+.5|0:"right"===a||"bottom"===a?a=b-c:(c=parseFloat(a),a="%"===(""+c!==a&&a.substring((""+c).length))?b/100*c+.5|0:c));return a}
function ia(){E=document.body;E[O="requestFullscreen"]||E[O="msRequestFullscreen"]||E[O="webkitRequestFullscreen"]||E[O="mozRequestFullscreen"]||(O="");da=O&&O.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit");l(window,"resize",function(){ma();na()});l(E,"mousedown",function(){ha=!1},!0);l(E,"mousedown",function(){if(!ha){var a=D.length;if(a)for(--a;0<=a;a--){var b=D[a];if(b.focused){b.blur();break}}}});ma()}
function ja(a){W(a,"drag");W(a,"n");W(a,"s");W(a,"w");W(a,"e");W(a,"nw");W(a,"ne");W(a,"se");W(a,"sw");l(a.g.getElementsByClassName("wb-min")[0],"click",function(b){u(b);a.min?a.restore().focus():a.minimize()});l(a.g.getElementsByClassName("wb-max")[0],"click",function(b){u(b);a.max?a.restore().focus():a.maximize().focus()});O?l(a.g.getElementsByClassName("wb-full")[0],"click",function(b){u(b);a.fullscreen().focus()}):a.addClass("no-full");l(a.g.getElementsByClassName("wb-close")[0],"click",function(b){u(b);
a.close()||(a=null)});l(a.g,"mousedown",function(){ha=!0},!0);l(a.body,"mousedown",function(){a.focus()},!0)}function oa(a){A.splice(A.indexOf(a),1);na();a.removeClass("min");a.min=!1;a.g.title=""}function na(){for(var a=A.length,b={},c={},g=0,d;g<a;g++)d=A[g],d=d.left+":"+d.top,c[d]?c[d]++:(b[d]=0,c[d]=1);g=0;for(var n,p;g<a;g++)d=A[g],n=d.left+":"+d.top,p=Math.min((T.width-d.left-d.right)/c[n],250),d.resize(p+1|0,d.h,!0).move(d.left+b[n]*p|0,T.height-d.bottom-d.h,!0),b[n]++}
function W(a,b){function c(h){u(h,!0);a.focus();if("drag"===b){if(a.min){a.restore();return}if(!a.g.classList.contains("no-max")){var q=Date.now(),r=q-P;P=q;if(300>r){a.max?a.restore():a.maximize();return}}}a.min||(E.classList.add("wb-lock"),(p=h.touches)&&(p=p[0])?(h=p,l(window,"touchmove",g,t),l(window,"touchend",d,t)):(l(window,"mousemove",g,t),l(window,"mouseup",d,t)),v=h.pageX,K=h.pageY)}function g(h){u(h);p&&(h=h.touches[0]);var q=h.pageX;h=h.pageY;var r=q-v,w=h-K,B=a.width,x=a.height,y=a.x,
ea=a.y,C;if("drag"===b){if(a.g.classList.contains("no-move"))return;a.x+=r;a.y+=w;var F=C=1}else{if("e"===b||"se"===b||"ne"===b){a.width+=r;var G=1}else if("w"===b||"sw"===b||"nw"===b)a.x+=r,a.width-=r,F=G=1;if("s"===b||"se"===b||"sw"===b){a.height+=w;var H=1}else if("n"===b||"ne"===b||"nw"===b)a.y+=w,a.height-=w,C=H=1}G&&(a.width=Math.max(Math.min(a.width,a.m,T.width-a.x-a.right),a.s),G=a.width!==B);H&&(a.height=Math.max(Math.min(a.height,a.l,T.height-a.y-a.bottom),a.o),H=a.height!==x);(G||H)&&a.resize();
F&&(a.max&&(a.x=(q<T.width/3?a.left:q>T.width/3*2?T.width-a.width-a.right:T.width/2-a.width/2)+r),a.x=Math.max(Math.min(a.x,a.j?T.width-30:T.left+T.width-a.width-a.right),a.j?30-a.width:T.left+a.left),F=a.x!==y);C&&(a.max&&(a.y=a.top+w),a.y=Math.max(Math.min(a.y,a.j?T.height-a.h:T.top+T.height-a.height-a.bottom),T.top+a.top),C=a.y!==ea);if(F||C)a.max&&a.restore(),a.move();if(G||F)v=q;if(H||C)K=h}function d(h){u(h);E.classList.remove("wb-lock");p?(m("touchmove",g),m("touchend",d)):(m("mousemove",g),
m("mouseup",d))}var n=a.g.getElementsByClassName("wb-"+b)[0];if(n){var p,v,K,P=0;l(n,"mousedown",c,ba);l(n,"touchstart",c,ba)}}
function ma(){function a(g){return parseInt(g,10)||0}var b=document.documentElement,c=document.querySelector(".winbox-viewport");c?(b=c.getBoundingClientRect(),c=getComputedStyle(c),T={left:b.left+a(c.borderLeftWidth)+a(c.paddingLeft),width:b.width-a(c.borderLeftWidth)-a(c.paddingLeft)-a(c.borderRightWidth)-a(c.paddingRight),top:b.top+a(c.borderTopWidth)+a(c.paddingTop),height:b.height-a(c.borderTopWidth)-a(c.paddingTop)-a(c.borderBottomWidth)-a(c.paddingBottom)}):T={left:0,top:0,width:b.clientWidth,
height:b.clientHeight}}e=U.prototype;e.mount=function(a){this.unmount();a.i||(a.i=a.parentNode);this.body.textContent="";this.body.appendChild(a);return this};e.unmount=function(a){var b=this.body.firstChild;if(b){var c=a||b.i;c&&c.appendChild(b);b.i=a}return this};e.setTitle=function(a){var b=this.g.getElementsByClassName("wb-title")[0];a=this.title=a;var c=b.firstChild;c?c.nodeValue=a:b.textContent=a;return this};
e.setIcon=function(a){var b=this.g.getElementsByClassName("wb-icon")[0];z(b,"background-image","url("+a+")");z(b,"display","inline-block");return this};e.setBackground=function(a){z(this.g,"background",a);return this};e.setUrl=function(a,b){var c=this.body.firstChild;c&&"iframe"===c.tagName.toLowerCase()?c.src=a:(this.body.innerHTML='<iframe src="'+a+'"></iframe>',b&&(this.body.firstChild.onload=b));return this};
e.focus=function(a){if(!1===a)return this.blur();if(!this.focused){a=D.length;if(1<a)for(var b=1;b<=a;b++){var c=D[a-b];if(c.focused){c.blur();D.push(D.splice(D.indexOf(this),1)[0]);break}}z(this.g,"z-index",++I);this.index=I;this.addClass("focus");this.focused=!0;this.onfocus&&this.onfocus()}return this};e.blur=function(a){if(!1===a)return this.focus();this.focused&&(this.removeClass("focus"),this.focused=!1,this.onblur&&this.onblur());return this};
e.hide=function(a){if(!1===a)return this.show();if(!this.hidden)return this.onhide&&this.onhide(),this.hidden=!0,this.addClass("hide")};e.show=function(a){if(!1===a)return this.hide();if(this.hidden)return this.onshow&&this.onshow(),this.hidden=!1,this.removeClass("hide")};
e.minimize=function(a){if(!1===a)return this.restore();J&&pa();this.max&&(this.removeClass("max"),this.max=!1);this.min||(A.push(this),na(),this.g.title=this.title,this.addClass("min"),this.min=!0,this.focused&&(this.blur(),Ca()),this.onminimize&&this.onminimize());return this};function Ca(){var a=D.length;if(a)for(--a;0<=a;a--){var b=D[a];if(!b.min){b.focus();break}}}
e.restore=function(){J&&pa();this.min&&(oa(this),this.resize().move(),this.onrestore&&this.onrestore());this.max&&(this.max=!1,this.removeClass("max").resize().move(),this.onrestore&&this.onrestore());return this};e.maximize=function(a){if(!1===a)return this.restore();J&&pa();this.min&&oa(this);this.max||(this.addClass("max").resize(T.width-this.left-this.right,T.height-this.top-this.bottom,!0).move(this.left,this.top,!0),this.max=!0,this.onmaximize&&this.onmaximize());return this};
e.fullscreen=function(a){this.min&&(oa(this),this.resize().move());if(!J||!pa())this.body[O](),J=this,this.full=!0,this.onfullscreen&&this.onfullscreen();else if(!1===a)return this.restore();return this};function pa(){J.full=!1;if(document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)return document[da](),!0}
e.close=function(a){if(this.onclose&&this.onclose(a))return!0;this.min&&oa(this);D.splice(D.indexOf(this),1);this.unmount();this.g.remove();this.g.textContent="";this.g=this.body=this.g.winbox=null;this.focused&&Ca()};e.move=function(a,b,c){a||0===a?c||(this.x=a?a=V(a,T.width-this.left-this.right,this.width):0,this.y=b?b=V(b,T.height-this.top-this.bottom,this.height):0):(a=this.x,b=this.y);z(this.g,"left",a+"px");z(this.g,"top",b+"px");this.onmove&&this.onmove(a,b);return this};
e.resize=function(a,b,c){a||0===a?c||(this.width=a?a=V(a,this.m):0,this.height=b?b=V(b,this.l):0,a=Math.max(a,this.s),b=Math.max(b,this.o)):(a=this.width,b=this.height);z(this.g,"width",a+"px");z(this.g,"height",b+"px");this.onresize&&this.onresize(a,b);return this};
e.addControl=function(a){var b=a["class"],c=a.image,g=a.click;a=a.index;var d=document.createElement("span"),n=this.g.getElementsByClassName("wb-control")[0],p=this;b&&(d.className=b);c&&z(d,"background-image","url("+c+")");g&&(d.onclick=function(v){g.call(this,v,p)});n.insertBefore(d,n.childNodes[a||0]);return this};e.removeControl=function(a){(a=this.g.getElementsByClassName(a)[0])&&a.remove();return this};e.addClass=function(a){this.g.classList.add(a);return this};
e.removeClass=function(a){this.g.classList.remove(a);return this};e.toggleClass=function(a){return this.g.classList.contains(a)?this.removeClass(a):this.addClass(a)};window.WinBox=U;}).call(this);
